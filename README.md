Можно посмотреть на [планкере](http://plnkr.co/edit/JVRl6gjMGqiy3Z1qAScu) ( только диаграмма там не работает) 
